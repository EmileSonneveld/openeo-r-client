<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>openEO client interface • openeo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="openEO client interface">
<meta property="og:description" content="This package provides a client software to access data and processing functionalities of openEO conformant back-ends in R.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">openeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="openeo-client-in-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#openeo-client-in-r" class="anchor"></a>openEO client in R</h1></div>
<p>This R package contains functions and classes that allow interactions with openEO backend server. The package will be under constant development. The master branch should always contain a version that is ready to use.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the package by using <code>install_github</code> from the devtools package.</p>
<pre><code>if (!require(devtools)) {
  install.packages("devtools",dependencies=TRUE)
  library(devtools)
}
install_github(repo="Open-EO/openeo-r-client",dependencies=TRUE)
library(openeo)</code></pre>
<p>If you want use a different version, then use for the parameter <code>ref</code> either “master”, “develop” or another version specified under <a href="https://github.com/Open-EO/openeo-r-client/releases">releases</a>.</p>
<p>Since the openEO project is under heavy development regarding the openeo API that connects clients and backends, all R client versions &lt; 1.0.0 versions will only be compatible with a certain API version.</p>
<table class="table">
<thead><tr class="header">
<th>openeo R client version</th>
<th>openeo API version</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>v0.0.1</td>
<td><a href="https://open-eo.github.io/openeo-api/v/0.0.1/">v0.0.1</a></td>
</tr>
<tr class="even">
<td>0.1.0</td>
<td><a href="https://open-eo.github.io/openeo-api/v/0.0.1/">v0.0.1</a></td>
</tr>
<tr class="odd">
<td>v0.2.0-poc</td>
<td><a href="https://open-eo.github.io/openeo-api/v/0.0.2/">v0.0.2</a></td>
</tr>
<tr class="even">
<td>v0.2.2</td>
<td><a href="https://open-eo.github.io/openeo-api/v/0.0.2/">v0.0.2</a></td>
</tr>
<tr class="odd">
<td>v0.3.1</td>
<td><a href="https://open-eo.github.io/openeo-api/v/0.3.1/">v0.3.1</a></td>
</tr>
<tr class="even">
<td>v0.4.x</td>
<td><a href="https://openeo.org/documentation/0.4/developers/api/reference.html">v0.4.2</a></td>
</tr>
<tr class="odd">
<td>v0.5.x</td>
<td><a href="https://openeo.org/documentation/0.4/developers/api/reference.html">v0.4.2</a></td>
</tr>
<tr class="even">
<td>v0.6.x</td>
<td><a href="https://openeo.org/documentation/0.4/developers/api/reference.html">v0.4.2</a></td>
</tr>
<tr class="odd">
<td>v1.0.x</td>
<td><a href="https://openeo.org/documentation/1.0/developers/api/reference.html">v1.0.0</a></td>
</tr>
</tbody>
</table>
</div>
<div id="prerequirements" class="section level2">
<h2 class="hasAnchor">
<a href="#prerequirements" class="anchor"></a>Prerequirements</h2>
<p>The openeo package won’t process anything at the local machine. It will always interact with a designated back-end. Only at the back-end the data is stored and the computations are performed. Therefore please make sure you are registered with any of the available openEO back-ends, in order to obtain credentials and the access URLs (see: <a href="https://hub.openeo.org/">openEO Hub</a> for getting an overview about available back-ends).</p>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h2>
<p>After loading the package, you need to connect to the openeo backend you want to use. The object that is returned by the <code>connect</code> function is essential for the interaction with this particular backend. For example you can explore offered data and processes and explore their detailed information. To get started with the process graph creation, please <a href="https://github.com/Open-EO/openeo-r-client/wiki/Process-Graph-Building">see Wiki: Process Graph Building</a> for further information.</p>
<p>After we defined the process graph, we send it as a task to the backend where it is processed. It can be processed <em>immediately</em> (the client is holding the connection and waits for the results), <em>directly asynchronous</em> (the client sends the task and queues the process execution and the results are stored in the user workspace on the backend, meanwhile the client receives an acceptance notification).</p>
<pre><code>library(openeo)
conn = connect(host="http://backend1.openeo.org/",user="test",password="test",login_type="basic")

# list collection and processes
colls = list_collections()
list_processes()

# get detailed descriptions
describe_collection(c("sentinel2_subset","landsat7_ndvi"))
describe_process("filter_bbox")

# create a process graph / task
p = processes()

data = p$load_collection(id = colls$`COPERNICUS/S2`,
                             spatial_extent = list(
                               west=16.1,
                               east=16.6,
                               north=48.6,
                               south= 47.2
                             ),
                             temporal_extent = list(
                               "2018-04-01", "2018-05-01"
                             ),
                             bands=list("B8","B4","B2")))

spectral_reduce = p$reduce_dimension(data = data, dimension = "bands",reducer = function(data,context) {
  B08 = data[1]
  B04 = data[2]
  B02 = data[3]
  (2.5 * (B08 - B04)) / sum(B08, 6 * B04, -7.5 * B02, 1)
})

temporal_reduce = p$reduce_dimension(data=spectral_reduce,dimension = "t", reducer = function(x,y){
  p$min(x)
})

apply_linear_transform = p$apply(data=temporal_reduce,process = function(value,...) {
  p$linear_scale_range(x = value, 
                           inputMin = -1, 
                           inputMax = 1, 
                           outputMin = 0, 
                           outputMax = 255)
})

result = p$save_result(data=apply_linear_transform,format="PNG")
                                
job_id = create_job(graph=result, title="Example graph", description="This graph is just a general example",format="png")

start_job(job_id)

result_obj = list_results(job_id)

download_results(job = job_id, folder = ".")
</code></pre>
<p>To get an overview which functions the packages offers and to access the function documentation you can either navigate in RStudio into the “Packages” tab and select the “openeo” package and click on the function you are interested in. Or you can use the following command line operations:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span>help<span class="op">=</span><span class="st">"openeo"</span><span class="op">)</span>

<span class="co"># ?&lt;function_name&gt;, e.g.</span>
<span class="op">?</span><span class="va">connect</span></code></pre></div>
</div>
<div id="additional-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-examples" class="anchor"></a>Additional Examples</h2>
<p>If you are interested, you can have a look at some example scripts that were used during the Proof-of-Concept under <a href="https://github.com/Open-EO/openeo-r-client/tree/master/examples">examples</a> to get a feeling, how to use the package. Some of the scripts are outdated and will be replaced in the future.</p>
</div>
<div id="further-information" class="section level2">
<h2 class="hasAnchor">
<a href="#further-information" class="anchor"></a>Further Information</h2>
<p>The <a href="https://github.com/Open-EO/openeo-r-client/wiki">Wiki</a> contains also additional information on process graph building and other topics. The package documentation can be found here: <a href="https://open-eo.github.io/openeo-r-client/index.html" class="uri">https://open-eo.github.io/openeo-r-client/index.html</a></p>
</div>
<div id="links" class="section level2">
<h2 class="hasAnchor">
<a href="#links" class="anchor"></a>Links</h2>
<ul>
<li><a href="http://openeo.org/">openEO.org</a></li>
<li><a href="https://openeo.org/documentation/1.0/developers/api/reference.html">openEO core API</a></li>
<li><a href="https://hub.openeo.org/">openEO hub</a></li>
<li><a href="https://open-eo.github.io/openeo-r-client/">openEO R Client package API</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Florian Lahn <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Florian Lahn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
